---
title: "Post Message"
sidebarTitle: "Post Message"
description: "Post a message to a Slack channel"
---

Publish slack messages to a public or private channel in your Slack Workspace as the Trigger.dev Slack bot. If you need to publish messages to your customer's Slack channels, consider using [Incoming Webhooks](https://api.slack.com/messaging/webhooks) and our [fetch](/functions/fetch) function.

## Params

<ParamField path="key" type="string" required={true}>
  A unique string. Please see the [Keys and Resumability](/guides/resumability)
  doc for more info.
</ParamField>

<ParamField path="message" type="object" required={true}>
  <Expandable title="properties" defaultOpen={true}>
    <ParamField path="channelName" type="string" required={false}>
      The name of the channel, can optionally include the `#`. E.g. `#team`.
      Alternatively you can use the `channelId` param.
    </ParamField>

    <ParamField path="channelId" type="string" required={false}>
      The slack ID of the channel, e.g. `C04GWUTDC4W`. Can be used instead of `channelName`. Use `channelId` if the slack channel name could change.
    </ParamField>

    <ParamField path="text" type="string" required={true}>
      The formatted text of the message to be published, formatted as [mrkdwn](https://api.slack.com/reference/surfaces/formatting#basics).
    </ParamField>

    <ParamField path="blocks" type="object" required={false}>
      You can use blocks to create a rich message with images, buttons, and more.

      You can either pass in a JavaScript object or use [JSX Slack](https://github.com/yhatt/jsx-slack/) to create blocks. We highly recommend using JSX Slack, it's much easier to read and write. See the [block example](#) to see it in action.

      Full full detail on block see the [Slack API docs](https://api.slack.com/reference/block-kit/blocks).
    </ParamField>

  </Expandable>
</ParamField>

## Response

<ResponseField name="ok" type="boolean" default="true">
  Always true; non-ok responses will halt the workflow run and throw an error.
</ResponseField>

<ResponseField name="channel" type="string">
  The channel ID of the channel the message was published to.
</ResponseField>

<ResponseField name="ts" type="string">
  The "timestamp ID" of the message, which can be used to update or delete the
  message.
</ResponseField>

<ResponseField name="message" type="object">
  <Expandable title="properties">
    <ResponseField name="ts" type="string">
      The "timestamp ID" of the message, which can be used to update or delete the message.
    </ResponseField>

    <ResponseField name="text" type="string">
      The text published to the channel.
    </ResponseField>

    <ResponseField name="user" type="string">
      The user ID of the user who published the message.
    </ResponseField>

    <ResponseField name="bot_id" type="string">
      The bot ID of the bot that published the message.
    </ResponseField>

  </Expandable>
</ResponseField>

## Example Workflows

### Notify Slack on New Star

<CodeGroup>

```typescript Notify Slack on New Star
import { slack, github } from "@trigger.dev/integrations";

new Trigger({
  id: "new-star",
  name: "On New Star",
  on: github.events.newStarEvent({
    repo: "triggerdotdev/trigger.dev",
  }),
  run: async (event, ctx) => {
    await slack.postMessage("⭐️ New Star", {
      channelName: "github-stars",
      text: `Repo ${event.repository.full_name} got a star from ${event.sender.login}, for a total of ${event.repository.stargazers_count} stars!`,
    });
  },
}).listen();
```

```json Example response
{
  "ok": true,
  "ts": "1673618429.084699",
  "channel": "C04GWUTDC3W",
  "message": {
    "ts": "1673618429.084699",
    "text": "New domain created: trigger.dev by customer 1st-ever-slack-workflow-yippie",
    "type": "message",
    "user": "U04JTTQ08SF",
    "bot_id": "B04JR3DCB4M"
  }
}
```

</CodeGroup>

### Blocks with interactivity

<CodeGroup>

```typescript Blocks with interactivity
import { slack } from "@trigger.dev/integrations";
import JSXSlack, {
  Actions,
  Blocks,
  Button,
  Section,
  Select,
  Option,
} from "jsx-slack";
import { z } from "zod";

const BLOCK_ID = "issue.action.block";

//this workflow is triggered by sending a custom event
//it posts a Slack message with some buttons
new Trigger({
  id: "slack-interactivity",
  name: "Testing Slack Interactivity",
  on: customEvent({
    name: "slack.interact",
    schema: z.any(),
  }),
  run: async (event, ctx) => {
    await slack.postMessage("jsx-test", {
      channelName: "test-integrations",
      text: "Test of jsx",
      blocks: JSXSlack(
        <Blocks>
          <Section>This is using jsxslack</Section>
          <Actions blockId={BLOCK_ID}>
            <Button value="close_issue" actionId="close_issue_123">
              Close Issue
            </Button>
            <Button value="comment_issue" actionId="comment_issue_123">
              Comment
            </Button>
            <Button
              value="view_issue"
              actionId="view_issue_123"
              url="https://github.com/triggerdotdev/trigger.dev/issues/11"
            >
              Comment
            </Button>
          </Actions>
        </Blocks>
      ),
    });
  },
}).listen();

//this workflow receives the button click events
new Trigger({
  id: "slack-block-interaction",
  name: "Slack Block Interaction",
  on: slack.events.blockActionInteraction({
    blockId: BLOCK_ID,
    actionId: ["comment_issue_123", "close_issue_123"],
  }),
  run: async (event, ctx) => {
    await slack.postMessageResponse("Response to user", event.response_url, {
      text: `Thanks for clicking on the button!`,
      replace_original: false,
    });

    await slack.postMessageResponse("Respond to everyone", event.response_url, {
      text: `Now what do you want to do about the PR review?`,
      replace_original: false,
      response_type: "in_channel",
      blocks: [
        {
          type: "actions",
          block_id: BLOCK_ID_2,
          elements: [
            {
              type: "button",
              action_id: "submit_review_123",
              text: {
                type: "plain_text",
                text: "Submit Review",
                emoji: true,
              },
              value: "submit_review",
            },
            {
              type: "button",
              action_id: "close_review_123",
              text: {
                type: "plain_text",
                text: "Close Review",
                emoji: true,
              },
              value: "close_review",
            },
          ],
        },
      ],
    });
  },
}).listen();
```

```json Example response
{
  "ok": true,
  "ts": "1673618429.084699",
  "channel": "C04GWUTDC3W",
  "message": {
    "ts": "1673618429.084699",
    "text": "New domain created: trigger.dev by customer 1st-ever-slack-workflow-yippie",
    "type": "message",
    "user": "U04JTTQ08SF",
    "bot_id": "B04JR3DCB4M"
  }
}
```

</CodeGroup>
